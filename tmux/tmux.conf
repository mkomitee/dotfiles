#  Cheat Sheet:
#    C-a C-a:     next panel
#    C-a C-o:     rotate panels
#    C-a <up>:    resize panel up 1
#    C-a <down>:  resize panel down 1
#    C-a <left>:  resize panel left 1
#    C-a <right>: resize panel right 1
#    C-a <space>: next panel orientation
#    C-a |:       split panel vertically
#    C-a -:       split panel horizontally
#    C-a w:       list window
#    C-a c:       new window
#    C-a n:       next window
#    C-a h:       move focus left one panel
#    C-a j:       move focus down one panel
#    C-a k:       move focus up one panel
#    C-a l:       move focus right one panel
#    C-a [:       enter copy mode
#    C-a ]:       paste copied text
#    C-a d:       detach
#
#  When in copy mode:
#    <space> to start selection
#    <enter> to copy selection and exit copy mode
#
#  To create a vertically split window taking up 75% of the screen:
#       C-a :split-window -h -p 75

set-option -g default-terminal "screen-256color"

# Mouse stuff
set-window-option -g mouse-resize-pane on
set-window-option -g mouse-select-pane on
set-window-option -g mouse-select-window on
set-window-option -g mode-mouse on
set-window-option -g mouse-utf on

set-option -g visual-activity off
set-window-option -g monitor-activity on
set-window-option -g automatic-rename on

set-option -sg escape-time 0
set-option -sg repeat-time 600
set-option -g quiet on

set-option -g history-limit 99999

# Try to work with the clipboard
set-option -g set-clipboard on

# force a reload of the config file
unbind r
bind r source-file ~/.tmux.conf \;  display "Reloaded!"

# quick pane cycling
unbind ^A
bind-key -r H select-pane -t :.-
bind-key -r J select-pane -t :.-
bind-key -r L select-pane -t :.+
bind-key -r K select-pane -t :.+

# hsplit
unbind %
bind | split-window -h
bind / split-window -h

# vsplit
unbind '"'
bind _ split-window -v
bind - split-window -v

# panel navigation
unbind k
bind-key k select-pane -U
unbind j
bind-key j select-pane -D
unbind h
bind-key h select-pane -L
unbind l
bind-key l select-pane -R

unbind J
bind-key J run ",tmux-move -U"
unbind K
bind-key K run ",tmux-move -D"
unbind H
bind-key H run ",tmux-move -L"
unbind L
bind-key L run ",tmux-move -R"

# vi all the things
set-window-option -g mode-keys vi
set-option -g status-keys vi

# Kill window
unbind ^x
bind ^x confirm-before "kill-pane"

# Tile windows
unbind =
bind = select-layout tiled

# Resize windows
unbind right
bind -r right resize-pane -R 2
unbind left
bind -r left resize-pane -L 2
unbind up
bind -r up resize-pane -U 2
unbind down
bind -r down resize-pane -D 2

# Customize colors
set -g status-fg white
set -g status-bg colour234
set -g window-status-activity-attr bold
set -g pane-border-fg white
set -g pane-active-border-fg red
set -g message-fg colour16
set -g message-bg colour221
set -g message-attr bold
set -g status-left-length 32
set -g status-right-length 150

# Customize status
set-option -g status-interval 1
set -g status-left '#[fg=colour16,bg=colour254,bold] #S #[fg=colour254,bg=colour238,nobold]'
set -g status-right '#[fg=colour245] %R %d %b #[fg=colour254,bg=colour234,nobold]'
set -g window-status-format "#[fg=white,bg=colour234] #I #W "
set -g window-status-current-format "#[fg=colour234,bg=white] #I #W "

# Customize window title (not tmux window, but xterm/putty)
set-option -g set-titles on
set-option -g set-titles-string '#S - window ###I pane ###P'

# Number windows starting at 1
set-option -g base-index 1
set-window-option -g pane-base-index 1

# Limit window size based on the smallest client viewing that window
# ordinarily it's limited by the smallest client attached, regardless
# of which window is being viewed.
set-window-option -g aggressive-resize on

bind-key -r M-Up select-pane -t :.+
bind-key -r M-Down select-pane -t :.-
bind-key -n M-Right next-window
bind-key -n M-Left previous-window

# Copy & Paste
# Enter copy mode with ESC
unbind [
bind Escape copy-mode
unbind p
bind p paste-buffer
bind-key -t vi-copy 'v' begin-selection
bind-key -t vi-copy 'y' copy-selection
bind-key -t vi-copy Escape cancel

bind , command-prompt "rename-window '%%'"

# Renumber on close
set -g renumber-windows on

# Here's where we place local overrides. This includes prefix overrides
source-file ~/.tmux.local

## vim:set ft=tmux:
