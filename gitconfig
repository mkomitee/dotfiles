[user]
    name = Michael Komitee

[color]
    ui = auto

[core]
    pager = less -FRXMQ
    abbrev = 8
    editor = vim
    whitespace=fix,-indent-with-non-tab,trailing-space,cr-at-eol
    excludesfile = ~/.dotfiles/gitignore

[log]
    abbrevcommit = yes
    decorate = short
    showroot = true
    date=short

[interactive]
    single = yes

[pretty]
    lg = "%C(yellow)%h %C(blue)%cd%Cred%d%Creset %s%Cblue [%aN]"
    rl = "%C(yellow)%h %C(red)%gd %C(blue)%cd%Cred%d%Creset %gs%Cblue [%aN]"

[alias]
    l = log --graph --full-history --all --pretty=lg --abbrev-commit --decorate=short
    lc = local-commits --decorate=short --pretty=lg
    track = checkout -t
    ls = ls-files
    rl = reflog --full-history --all --pretty=rl --abbrev-commit --decorate=short
    branches = branch -vv
    dw = diff --color-words='[^[:space:]]|([[:alnum:]]|UTF_8_GUARD)+'
    ds = diff --staged --word-diff
    ref = show-ref
    vimdiff = difftool
    head = log -1
    stat = status -sb
    st = status -sb
    ci = commit -v
    co = checkout
    di = diff
    dc = diff --cached
    sm = submodule
    wc = whatchanged
    aa = add -A :/
    ap = add --patch
    ammend = commit --amend -v
    amend = commit --amend -v
    tags = tag -ln1
    remotes = remote -v
    list = stash list --pretty=rl --abbrev-commit --decorate=short
    save = stash save -u
    div = divergence
    ; assume/unassume to ignore/unignore changes in a file for now,
    ; assumed lists those we're assuming are unchanged
    assume = update-index --assume-unchanged
    unassume = update-index --no-assume-unchanged
    assumed = "!git ls-files -v | grep ^h | cut -c 3-"
    ; snapshot to take a snapshot without removing changes from the tree
    snapshot = !git stash save "snapshot: $(date)" && git stash apply "stash@{0}"
    incoming = !git fetch && git log --pretty=oneline --abbrev-commit --graph ..@{u}
    outgoing = !git fetch && git log --pretty=oneline --abbrev-commit --graph @{u}..

[pager]
    status = yes
    show-branch = yes

[clean]
    requireForce = no

[url "gitserve"]
    insteadOf = gs

[difftool "vimdiff"]
    cmd = vimdiff  \"$LOCAL\" \"$REMOTE\"

[format]
    pretty = lg

[diff]
    tool = vimdiff
    guitool = gvimdiff
    algorithm = patience

[branch]
    autosetuprebase = always

[github]
    user = mkomitee

[url "git@github.com:"]
    insteadOf = "gh:"
    pushInsteadOf = "github:"
    pushInsteadOf = "git://github.com/"

[tig]
    show-author = no
    show-date = no
    show-line-numbers = yes
    show-rev-graph = yes

[mergetool "vmt"]
    cmd = vim -f -d -c \"wincmd J\" \"$MERGED\" \"$LOCAL\" \"$BASE\" \"$REMOTE\"

[mergetool "gvmt"]
    cmd = gvim -f -d -c \"wincmd J\" \"$MERGED\" \"$LOCAL\" \"$BASE\" \"$REMOTE\"

[mergetool "splice"]
    cmd = "vim -f $BASE $LOCAL $REMOTE $MERGED -c 'SpliceInit'"
    trustExitCode = true

[mergetool]
    prompt = false

[merge]
    tool = splice

[push]
    default = upstream

[init]
    templatedir = ~/.dotfiles/git-template
